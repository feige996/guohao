<script setup lang="ts">
// æ¨¡æ‹ŸåŒ»ç”Ÿä¿¡æ¯æ•°æ®
const doctorInfo = ref({
  name: 'ææµ©',
  title: 'ä¸»ä»»åŒ»å¸ˆ',
  department: 'å†…åˆ†æ³Œç§‘',
  hospital: 'å›½æµ©ä¸­åŒ»é™¢',
  rating: '100%',
  consultationCount: 56800,
  avatar: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=400&h=400&fit=crop&crop=center',
  recordDate: '2025/02/11 14:32:21',
})

// æ ¼å¼åŒ–æ•°å­—ï¼Œæ·»åŠ åƒåˆ†ä½åˆ†éš”ç¬¦
function formatNumber(num: number): string {
  return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',')
}

// ç‚¹å‡»è¯„ä»·åŒºåŸŸ
function handleRatingClick() {
  console.log('ç‚¹å‡»äº†è¯„ä»·åŒºåŸŸ')
  // è¿™é‡Œå¯ä»¥æ·»åŠ è·³è½¬åˆ°è¯„ä»·è¯¦æƒ…é¡µé¢çš„é€»è¾‘
}
// ç‚¹å‡»æ¡£æ¡ˆåŒºåŸŸ
function handleRecordClick() {
  console.log('ç‚¹å‡»äº†æ¡£æ¡ˆåŒºåŸŸ')
  // è·³è½¬åˆ°è¯¦ç»†æ¡£æ¡ˆé¡µé¢
  uni.navigateTo({
    url: '/pages/doctor/me/doctorInfo',
  })
}
</script>

<template>
  <view class="bg-white p-4">
    <view class="flex items-center">
      <!-- åŒ»ç”Ÿå¤´åƒ -->
      <image
        :src="doctorInfo.avatar"
        class="h-20 w-20 border-2 border-gray-200 rounded-full object-cover"
      />

      <!-- åŒ»ç”Ÿä¿¡æ¯ -->
      <view class="ml-4 flex-1">
        <view class="flex items-center">
          <text class="text-xl font-semibold">{{ doctorInfo.name }}</text>
          <text class="ml-2 text-base text-gray-600">{{ doctorInfo.title }}</text>
        </view>
        <view class="mt-1 flex items-center">
          <text class="mr-3 text-sm text-blue-500">{{ doctorInfo.department }}</text>
          <text class="text-sm text-gray-500">{{ doctorInfo.hospital }}</text>
        </view>
        <view class="mt-2 flex items-center">
          <text class="text-xs text-gray-500">å¥½è¯„:</text>
          <text class="ml-1 text-xs text-green-500">{{ doctorInfo.rating }}</text>
          <text class="ml-3 text-xs text-gray-500">æ¥è¯Š:</text>
          <text class="ml-1 text-xs text-blue-500">{{ formatNumber(doctorInfo.consultationCount) }}</text>
        </view>
      </view>
    </view>
  </view>
  <view class="mt-3 bg-white p-4" @click="handleRecordClick">
    <view class="flex items-center">
      <view class="h-10 w-10 flex items-center justify-center rounded-full bg-blue-100">
        <text class="text-blue-500">ğŸ‘¤</text>
      </view>
      <view class="ml-4 flex-1">
        <view class="flex items-center justify-between">
          <text class="text-base font-medium">æˆ‘çš„æ¡£æ¡ˆ</text>
          <text class="text-xs text-gray-500">{{ doctorInfo.name }} {{ doctorInfo.title }}</text>
        </view>
        <view class="mt-1 flex items-center">
          <text class="mr-3 text-xs text-gray-500">{{ doctorInfo.department }}</text>
          <text class="text-xs text-gray-500">{{ doctorInfo.hospital }}</text>
        </view>
        <text class="mt-1 text-xs text-gray-400">{{ doctorInfo.recordDate }}</text>
      </view>
    </view>
  </view>
</template>
